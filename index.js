// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("stream"),require("buffer"),require("process")):"function"==typeof define&&define.amd?define(["stream","buffer","process"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).streams=t(e.require$$0$3,e.require$$0$1,e.require$$0$2)}(this,(function(e,t,r){"use strict";var n="function"==typeof Object.defineProperty?Object.defineProperty:null;var i=Object.defineProperty;function o(e){return"number"==typeof e}function a(e){var t,r="";for(t=0;t<e;t++)r+="0";return r}function s(e,t,r){var n=!1,i=t-e.length;return i<0||(function(e){return"-"===e[0]}(e)&&(n=!0,e=e.substr(1)),e=r?e+a(i):a(i)+e,n&&(e="-"+e)),e}var u=String.prototype.toLowerCase,l=String.prototype.toUpperCase;function c(e){var t,r,n;switch(e.specifier){case"b":t=2;break;case"o":t=8;break;case"x":case"X":t=16;break;default:t=10}if(r=e.arg,n=parseInt(r,10),!isFinite(n)){if(!o(r))throw new Error("invalid integer. Value: "+r);n=0}return n<0&&("u"===e.specifier||10!==t)&&(n=4294967295+n+1),n<0?(r=(-n).toString(t),e.precision&&(r=s(r,e.precision,e.padRight)),r="-"+r):(r=n.toString(t),n||e.precision?e.precision&&(r=s(r,e.precision,e.padRight)):r="",e.sign&&(r=e.sign+r)),16===t&&(e.alternate&&(r="0x"+r),r=e.specifier===l.call(e.specifier)?l.call(r):u.call(r)),8===t&&e.alternate&&"0"!==r.charAt(0)&&(r="0"+r),r}function f(e){return"string"==typeof e}var d=Math.abs,p=String.prototype.toLowerCase,h=String.prototype.toUpperCase,g=String.prototype.replace,b=/e\+(\d)$/,y=/e-(\d)$/,m=/^(\d+)$/,w=/^(\d+)e/,v=/\.0$/,j=/\.0*e/,O=/(\..*[^0])0*e/;function _(e){var t,r,n=parseFloat(e.arg);if(!isFinite(n)){if(!o(e.arg))throw new Error("invalid floating-point number. Value: "+r);n=e.arg}switch(e.specifier){case"e":case"E":r=n.toExponential(e.precision);break;case"f":case"F":r=n.toFixed(e.precision);break;case"g":case"G":d(n)<1e-4?((t=e.precision)>0&&(t-=1),r=n.toExponential(t)):r=n.toPrecision(e.precision),e.alternate||(r=g.call(r,O,"$1e"),r=g.call(r,j,"e"),r=g.call(r,v,""));break;default:throw new Error("invalid double notation. Value: "+e.specifier)}return r=g.call(r,b,"e+0$1"),r=g.call(r,y,"e-0$1"),e.alternate&&(r=g.call(r,m,"$1."),r=g.call(r,w,"$1.e")),n>=0&&e.sign&&(r=e.sign+r),r=e.specifier===h.call(e.specifier)?h.call(r):p.call(r)}function M(e){var t,r="";for(t=0;t<e;t++)r+=" ";return r}function E(e,t,r){var n=t-e.length;return n<0?e:e=r?e+M(n):M(n)+e}var T=String.fromCharCode,S=isNaN,k=Array.isArray;function A(e){var t={};return t.specifier=e.specifier,t.precision=void 0===e.precision?1:e.precision,t.width=e.width,t.flags=e.flags||"",t.mapping=e.mapping,t}function x(e){var t,r,n,i,o,a,u,l,d;if(!k(e))throw new TypeError("invalid argument. First argument must be an array. Value: `"+e+"`.");for(a="",u=1,l=0;l<e.length;l++)if(f(n=e[l]))a+=n;else{if(t=void 0!==n.precision,!(n=A(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+l+"`. Value: `"+n+"`.");for(n.mapping&&(u=n.mapping),r=n.flags,d=0;d<r.length;d++)switch(i=r.charAt(d)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=r.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===n.width){if(n.width=parseInt(arguments[u],10),u+=1,S(n.width))throw new TypeError("the argument for * width at position "+u+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(t&&"*"===n.precision){if(n.precision=parseInt(arguments[u],10),u+=1,S(n.precision))throw new TypeError("the argument for * precision at position "+u+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,t=!1)}switch(n.arg=arguments[u],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":t&&(n.padZeros=!1),n.arg=c(n);break;case"s":n.maxWidth=t?n.precision:-1;break;case"c":if(!S(n.arg)){if((o=parseInt(n.arg,10))<0||o>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=S(o)?String(n.arg):T(o)}break;case"e":case"E":case"f":case"F":case"g":case"G":t||(n.precision=6),n.arg=_(n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=s(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=E(n.arg,n.width,n.padRight)),a+=n.arg||"",u+=1}return a}var V=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function W(e){var t={mapping:e[1]?parseInt(e[1],10):void 0,flags:e[2],width:e[3],precision:e[5],specifier:e[6]};return"."===e[4]&&void 0===e[5]&&(t.precision="1"),t}function I(e){var t,r,n,i;for(r=[],i=0,n=V.exec(e);n;)(t=e.slice(i,V.lastIndex-n[0].length)).length&&r.push(t),r.push(W(n)),i=V.lastIndex,n=V.exec(e);return(t=e.slice(i)).length&&r.push(t),r}function C(e){return"string"==typeof e}function N(e){var t,r,n;if(!C(e))throw new TypeError(N("invalid argument. First argument must be a string. Value: `%s`.",e));for(t=I(e),(r=new Array(arguments.length))[0]=t,n=1;n<r.length;n++)r[n]=arguments[n];return x.apply(null,r)}var F,z=Object.prototype,H=z.toString,J=z.__defineGetter__,R=z.__defineSetter__,U=z.__lookupGetter__,P=z.__lookupSetter__;F=function(){try{return n({},"x",{}),!0}catch(e){return!1}}()?i:function(e,t,r){var n,i,o,a;if("object"!=typeof e||null===e||"[object Array]"===H.call(e))throw new TypeError(N("invalid argument. First argument must be an object. Value: `%s`.",e));if("object"!=typeof r||null===r||"[object Array]"===H.call(r))throw new TypeError(N("invalid argument. Property descriptor must be an object. Value: `%s`.",r));if((i="value"in r)&&(U.call(e,t)||P.call(e,t)?(n=e.__proto__,e.__proto__=z,delete e[t],e[t]=r.value,e.__proto__=n):e[t]=r.value),o="get"in r,a="set"in r,i&&(o||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return o&&J&&J.call(e,t,r.get),a&&R&&R.call(e,t,r.set),e};var B=F;function $(e,t,r){B(e,t,{configurable:!1,enumerable:!0,writable:!1,value:r})}function L(e,t,r){B(e,t,{configurable:!1,enumerable:!1,writable:!1,value:r})}function G(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){if(this instanceof e){var r=[null];r.push.apply(r,arguments);var n=Function.bind.apply(t,r);return new n}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var q=/./;function X(e){return"boolean"==typeof e}var D="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function Z(){return D&&"symbol"==typeof Symbol.toStringTag}var Y=Object.prototype.toString;var K=Object.prototype.hasOwnProperty;function Q(e,t){return null!=e&&K.call(e,t)}var ee="function"==typeof Symbol?Symbol:void 0,te="function"==typeof ee?ee.toStringTag:"";var re=Z()?function(e){var t,r,n;if(null==e)return Y.call(e);r=e[te],t=Q(e,te);try{e[te]=void 0}catch(t){return Y.call(e)}return n=Y.call(e),t?e[te]=r:delete e[te],n}:function(e){return Y.call(e)},ne=Boolean,ie=Boolean.prototype.toString;var oe=Z();function ae(e){return"object"==typeof e&&(e instanceof ne||(oe?function(e){try{return ie.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===re(e)))}function se(e){return X(e)||ae(e)}function ue(){return new Function("return this;")()}L(se,"isPrimitive",X),L(se,"isObject",ae);var le="object"==typeof self?self:null,ce="object"==typeof window?window:null,fe="object"==typeof global?global:null,de="object"==typeof globalThis?globalThis:null;function pe(e){if(arguments.length){if(!X(e))throw new TypeError(N("invalid argument. Must provide a boolean. Value: `%s`.",e));if(e)return ue()}if(de)return de;if(le)return le;if(ce)return ce;if(fe)return fe;throw new Error("unexpected error. Unable to resolve global object.")}var he=pe(),ge=he.document&&he.document.childNodes,be=Int8Array;function ye(){return/^\s*function\s*([^(]*)/i}var me,we=/^\s*function\s*([^(]*)/i;L(ye,"REGEXP",we),me=Array.isArray?Array.isArray:function(e){return"[object Array]"===re(e)};var ve=me;function je(e){return null!==e&&"object"==typeof e}var Oe=function(e){if("function"!=typeof e)throw new TypeError(N("invalid argument. Must provide a function. Value: `%s`.",e));return function(t){var r,n;if(!ve(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}(je);function _e(e){return je(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Me(e){var t,r,n;if(("Object"===(r=re(e).slice(8,-1))||"Error"===r)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(t=we.exec(n.toString()))return t[1]}return _e(e)?"Buffer":r}L(je,"isObjectLikeArray",Oe);var Ee="function"==typeof q||"object"==typeof be||"function"==typeof ge?function(e){return Me(e).toLowerCase()}:function(e){var t;return null===e?"null":"object"===(t=typeof e)?Me(e).toLowerCase():t};function Te(e){return"function"===Ee(e)}function Se(e){return"number"==typeof e}var ke=Number,Ae=ke.prototype.toString;var xe=Z();function Ve(e){return"object"==typeof e&&(e instanceof ke||(xe?function(e){try{return Ae.call(e),!0}catch(e){return!1}}(e):"[object Number]"===re(e)))}function We(e){return Se(e)||Ve(e)}L(We,"isPrimitive",Se),L(We,"isObject",Ve);var Ie=Number.POSITIVE_INFINITY,Ce=ke.NEGATIVE_INFINITY,Ne=Math.floor;function Fe(e){return Ne(e)===e}function ze(e){return e<Ie&&e>Ce&&Fe(e)}function He(e){return Se(e)&&ze(e)}function Je(e){return Ve(e)&&ze(e.valueOf())}function Re(e){return He(e)||Je(e)}function Ue(e){return He(e)&&e>=0}function Pe(e){return Je(e)&&e.valueOf()>=0}function Be(e){return Ue(e)||Pe(e)}L(Re,"isPrimitive",He),L(Re,"isObject",Je),L(Be,"isPrimitive",Ue),L(Be,"isObject",Pe);var $e,Le=Object,Ge=Object.getPrototypeOf;$e=Te(Object.getPrototypeOf)?Ge:function(e){var t=function(e){return e.__proto__}(e);return t||null===t?t:"[object Function]"===re(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null};var qe=$e;function Xe(e){return null==e?null:(e=Le(e),qe(e))}function De(e){if("object"!=typeof e||null===e)return!1;if(e instanceof Error)return!0;for(;e;){if("[object Error]"===re(e))return!0;e=Xe(e)}return!1}function Ze(e){return"string"==typeof e}var Ye=String.prototype.valueOf;var Ke=Z();function Qe(e){return"object"==typeof e&&(e instanceof String||(Ke?function(e){try{return Ye.call(e),!0}catch(e){return!1}}(e):"[object String]"===re(e)))}function et(e){return Ze(e)||Qe(e)}function tt(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/}function rt(e){return e!=e}function nt(e){return Se(e)&&rt(e)}function it(e){return Ve(e)&&rt(e.valueOf())}function ot(e){return nt(e)||it(e)}L(et,"isPrimitive",Ze),L(et,"isObject",Qe),L(tt,"REGEXP",/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/),L(ot,"isPrimitive",nt),L(ot,"isObject",it);function at(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&Fe(e.length)&&e.length>=0&&e.length<=9007199254740991}function st(e,t,r){var n,i;if(!at(e)&&!Ze(e))throw new TypeError(N("invalid argument. First argument must be an array-like object. Value: `%s`.",e));if(0===(n=e.length))return-1;if(3===arguments.length){if(!He(r))throw new TypeError(N("invalid argument. Third argument must be an integer. Value: `%s`.",r));if(r>=0){if(r>=n)return-1;i=r}else(i=n+r)<0&&(i=0)}else i=0;if(ot(t)){for(;i<n;i++)if(ot(e[i]))return i}else for(;i<n;i++)if(e[i]===t)return i;return-1}function ut(e){return Object.keys(Object(e))}var lt,ct=void 0!==Object.keys;function ft(e){return"[object Arguments]"===re(e)}lt=function(){return ft(arguments)}();var dt=lt,pt=Object.prototype.propertyIsEnumerable;var ht=!pt.call("beep","0");function gt(e,t){var r;return null!=e&&(!(r=pt.call(e,t))&&ht&&et(e)?!nt(t=+t)&&He(t)&&t>=0&&t<e.length:r)}var bt,yt=4294967295;bt=dt?ft:function(e){return null!==e&&"object"==typeof e&&!ve(e)&&"number"==typeof e.length&&Fe(e.length)&&e.length>=0&&e.length<=yt&&Q(e,"callee")&&!gt(e,"callee")};var mt=bt,wt=Array.prototype.slice;var vt=gt((function(){}),"prototype"),jt=!gt({toString:null},"toString");function Ot(e){return e.constructor&&e.constructor.prototype===e}var _t=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Mt="undefined"==typeof window?void 0:window;var Et=function(){var e;if("undefined"===Ee(Mt))return!1;for(e in Mt)try{-1===st(_t,e)&&Q(Mt,e)&&null!==Mt[e]&&"object"===Ee(Mt[e])&&Ot(Mt[e])}catch(e){return!0}return!1}(),Tt="undefined"!=typeof window;var St,kt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];St=ct?function(){return 2!==(ut(arguments)||"").length}(1,2)?function(e){return mt(e)?ut(wt.call(e)):ut(e)}:ut:function(e){var t,r,n,i,o,a,s;if(i=[],mt(e)){for(s=0;s<e.length;s++)i.push(s.toString());return i}if("string"==typeof e){if(e.length>0&&!Q(e,"0"))for(s=0;s<e.length;s++)i.push(s.toString())}else{if(!1==(n="function"==typeof e)&&!je(e))return i;r=vt&&n}for(o in e)r&&"prototype"===o||!Q(e,o)||i.push(String(o));if(jt)for(t=function(e){if(!1===Tt&&!Et)return Ot(e);try{return Ot(e)}catch(e){return!1}}(e),s=0;s<kt.length;s++)a=kt[s],t&&"constructor"===a||!Q(e,a)||i.push(String(a));return i};var At,xt=St,Vt=void 0!==Object.getOwnPropertyNames,Wt=Le.getOwnPropertyNames;At=Vt?function(e){return Wt(Le(e))}:function(e){return xt(Le(e))};var It,Ct=At,Nt=void 0!==Object.getOwnPropertyDescriptor,Ft=Object.getOwnPropertyDescriptor;It=Nt?function(e,t){var r;return null==e||void 0===(r=Ft(e,t))?null:r}:function(e,t){return Q(e,t)?{configurable:!0,enumerable:!0,writable:!0,value:e[t]}:null};var zt=It,Ht="function"==typeof Buffer?Buffer:null;var Jt,Rt=t.Buffer;Jt=function(){var e,t;if("function"!=typeof Ht)return!1;try{e=_e(t="function"==typeof Ht.from?Ht.from([1,2,3,4]):new Ht([1,2,3,4]))&&1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]}catch(t){e=!1}return e}()?Rt:function(){throw new Error("not implemented")};var Ut=Jt;var Pt=Te(Ut.from)?function(e){if(!_e(e))throw new TypeError(N("invalid argument. Must provide a Buffer. Value: `%s`.",e));return Ut.from(e)}:function(e){if(!_e(e))throw new TypeError(N("invalid argument. Must provide a Buffer. Value: `%s`.",e));return new Ut(e)},Bt="function"==typeof Int8Array;var $t="function"==typeof Int8Array?Int8Array:null;var Lt,Gt="function"==typeof Int8Array?Int8Array:void 0;Lt=function(){var e,t,r;if("function"!=typeof $t)return!1;try{t=new $t([1,3.14,-3.14,128]),r=t,e=(Bt&&r instanceof Int8Array||"[object Int8Array]"===re(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-128===t[3]}catch(t){e=!1}return e}()?Gt:function(){throw new Error("not implemented")};var qt=Lt,Xt="function"==typeof Uint8Array;function Dt(e){return Xt&&e instanceof Uint8Array||"[object Uint8Array]"===re(e)}var Zt="function"==typeof Uint8Array?Uint8Array:null;var Yt,Kt="function"==typeof Uint8Array?Uint8Array:void 0;Yt=function(){var e,t;if("function"!=typeof Zt)return!1;try{e=Dt(t=new Zt(t=[1,3.14,-3.14,256,257]))&&1===t[0]&&3===t[1]&&253===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?Kt:function(){throw new Error("not implemented")};var Qt=Yt,er="function"==typeof Uint8ClampedArray;var tr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var rr,nr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;rr=function(){var e,t,r;if("function"!=typeof tr)return!1;try{t=new tr([-1,0,1,3.14,4.99,255,256]),r=t,e=(er&&r instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===re(r))&&0===t[0]&&0===t[1]&&1===t[2]&&3===t[3]&&5===t[4]&&255===t[5]&&255===t[6]}catch(t){e=!1}return e}()?nr:function(){throw new Error("not implemented")};var ir=rr,or="function"==typeof Int16Array;var ar="function"==typeof Int16Array?Int16Array:null;var sr,ur="function"==typeof Int16Array?Int16Array:void 0;sr=function(){var e,t,r;if("function"!=typeof ar)return!1;try{t=new ar([1,3.14,-3.14,32768]),r=t,e=(or&&r instanceof Int16Array||"[object Int16Array]"===re(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-32768===t[3]}catch(t){e=!1}return e}()?ur:function(){throw new Error("not implemented")};var lr=sr,cr="function"==typeof Uint16Array;var fr="function"==typeof Uint16Array?Uint16Array:null;var dr,pr="function"==typeof Uint16Array?Uint16Array:void 0;dr=function(){var e,t,r;if("function"!=typeof fr)return!1;try{t=new fr(t=[1,3.14,-3.14,65536,65537]),r=t,e=(cr&&r instanceof Uint16Array||"[object Uint16Array]"===re(r))&&1===t[0]&&3===t[1]&&65533===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?pr:function(){throw new Error("not implemented")};var hr=dr,gr="function"==typeof Int32Array;var br="function"==typeof Int32Array?Int32Array:null;var yr,mr="function"==typeof Int32Array?Int32Array:void 0;yr=function(){var e,t,r;if("function"!=typeof br)return!1;try{t=new br([1,3.14,-3.14,2147483648]),r=t,e=(gr&&r instanceof Int32Array||"[object Int32Array]"===re(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-2147483648===t[3]}catch(t){e=!1}return e}()?mr:function(){throw new Error("not implemented")};var wr=yr,vr="function"==typeof Uint32Array;var jr="function"==typeof Uint32Array?Uint32Array:null;var Or,_r="function"==typeof Uint32Array?Uint32Array:void 0;Or=function(){var e,t,r;if("function"!=typeof jr)return!1;try{t=new jr(t=[1,3.14,-3.14,4294967296,4294967297]),r=t,e=(vr&&r instanceof Uint32Array||"[object Uint32Array]"===re(r))&&1===t[0]&&3===t[1]&&4294967293===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?_r:function(){throw new Error("not implemented")};var Mr=Or,Er="function"==typeof Float32Array;var Tr="function"==typeof Float32Array?Float32Array:null;var Sr,kr="function"==typeof Float32Array?Float32Array:void 0;Sr=function(){var e,t,r;if("function"!=typeof Tr)return!1;try{t=new Tr([1,3.14,-3.14,5e40]),r=t,e=(Er&&r instanceof Float32Array||"[object Float32Array]"===re(r))&&1===t[0]&&3.140000104904175===t[1]&&-3.140000104904175===t[2]&&t[3]===Ie}catch(t){e=!1}return e}()?kr:function(){throw new Error("not implemented")};var Ar=Sr,xr="function"==typeof Float64Array;var Vr="function"==typeof Float64Array?Float64Array:null;var Wr,Ir="function"==typeof Float64Array?Float64Array:void 0;Wr=function(){var e,t,r;if("function"!=typeof Vr)return!1;try{t=new Vr([1,3.14,-3.14,NaN]),r=t,e=(xr&&r instanceof Float64Array||"[object Float64Array]"===re(r))&&1===t[0]&&3.14===t[1]&&-3.14===t[2]&&t[3]!=t[3]}catch(t){e=!1}return e}()?Ir:function(){throw new Error("not implemented")};var Cr=Wr;function Nr(e){return new qt(e)}function Fr(e){return new Qt(e)}function zr(e){return new ir(e)}function Hr(e){return new lr(e)}function Jr(e){return new hr(e)}function Rr(e){return new wr(e)}function Ur(e){return new Mr(e)}function Pr(e){return new Ar(e)}function Br(e){return new Cr(e)}var $r={int8array:Nr,uint8array:Fr,uint8clampedarray:zr,int16array:Hr,uint16array:Jr,int32array:Rr,uint32array:Ur,float32array:Pr,float64array:Br};function Lr(e,t,r,n,i){var o,a,s,u,l,c,f,d,p,h;if(i-=1,"object"!=typeof e||null===e)return e;if(_e(e))return Pt(e);if(De(e))return function(e){var t,r,n,i,o,a,s=[],u=[];for(o=new e.constructor(e.message),s.push(e),u.push(o),e.stack&&(o.stack=e.stack),e.code&&(o.code=e.code),e.errno&&(o.errno=e.errno),e.syscall&&(o.syscall=e.syscall),t=xt(e),a=0;a<t.length;a++)i=t[a],Q(r=zt(e,i),"value")&&(n=ve(e[i])?[]:{},r.value=Lr(e[i],n,s,u,-1)),B(o,i,r);return o}(e);if("date"===(s=Ee(e)))return new Date(+e);if("regexp"===s)return function(e){if(!Ze(e))throw new TypeError(N("invalid argument. Must provide a regular expression string. Value: `%s`.",e));return(e=/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/.exec(e))?new RegExp(e[1],e[2]):null}(e.toString());if("set"===s)return new Set(e);if("map"===s)return new Map(e);if("string"===s||"boolean"===s||"number"===s)return e.valueOf();if(l=$r[s])return l(e);if("array"!==s&&"object"!==s)return"function"==typeof Object.freeze?function(e){var t,r,n,i,o,a,s,u;for(t=[],i=[],s=Object.create(Xe(e)),t.push(e),i.push(s),r=Ct(e),u=0;u<r.length;u++)n=r[u],Q(o=zt(e,n),"value")&&(a=ve(e[n])?[]:{},o.value=Lr(e[n],a,t,i,-1)),B(s,n,o);return Object.isExtensible(e)||Object.preventExtensions(s),Object.isSealed(e)&&Object.seal(s),Object.isFrozen(e)&&Object.freeze(s),s}(e):{};if(a=xt(e),i>0)for(o=s,h=0;h<a.length;h++)d=e[c=a[h]],s=Ee(d),"object"!=typeof d||null===d||"array"!==s&&"object"!==s||_e(d)?"object"===o?(Q(u=zt(e,c),"value")&&(u.value=Lr(d)),B(t,c,u)):t[c]=Lr(d):-1===(p=st(r,d))?(f=ve(d)?new Array(d.length):{},r.push(d),n.push(f),"array"===o?t[c]=Lr(d,f,r,n,i):(Q(u=zt(e,c),"value")&&(u.value=Lr(d,f,r,n,i)),B(t,c,u))):t[c]=n[p];else if("array"===s)for(h=0;h<a.length;h++)t[c=a[h]]=e[c];else for(h=0;h<a.length;h++)c=a[h],u=zt(e,c),B(t,c,u);return Object.isExtensible(e)||Object.preventExtensions(t),Object.isSealed(e)&&Object.seal(t),Object.isFrozen(e)&&Object.freeze(t),t}function Gr(e,t){var r;if(arguments.length>1){if(!Ue(t))throw new TypeError(N("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",t));if(0===t)return e}else t=Ie;return Lr(e,r=ve(e)?new Array(e.length):{},[e],[r],t)}function qr(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t?new TypeError(N("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `%s`.",e)):null}var Xr=Object.create;function Dr(){}var Zr="function"==typeof Xr?Xr:function(e){return Dr.prototype=e,new Dr};function Yr(e,t){var r=qr(e);if(r)throw r;if(r=qr(t))throw r;if(void 0===t.prototype)throw new TypeError(N("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `%s`.",t.prototype));return e.prototype=Zr(t.prototype),B(e.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:e}),e}function Kr(e,t,r){B(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}var Qr=r;function en(e){var t,r;for(t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);function n(){e.apply(null,t)}Qr.nextTick(n)}var tn={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1};var rn=Object.prototype;function nn(e){var t;return!!function(e){return"object"==typeof e&&null!==e&&!ve(e)}(e)&&(!(t=Xe(e))||!Q(e,"constructor")&&Q(t,"constructor")&&Te(t.constructor)&&"[object Function]"===re(t.constructor)&&Q(t,"isPrototypeOf")&&Te(t.isPrototypeOf)&&(t===rn||function(e){var t;for(t in e)if(!Q(e,t))return!1;return!0}(e)))}function on(e){return Se(e)&&e>=0}function an(e){return Ve(e)&&e.valueOf()>=0}function sn(e){return on(e)||an(e)}function un(e,t){return nn(t)?Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!X(e.readableObjectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","readableObjectMode",e.readableObjectMode)):Q(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!X(e.allowHalfOpen))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","allowHalfOpen",e.allowHalfOpen)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}L(sn,"isPrimitive",on),L(sn,"isObject",an);var ln=G(Object.freeze({__proto__:null,default:()=>()=>{}})),cn=ln("inspect-stream"),fn=e.Transform;function dn(e,t){var r,n,i;if(!(this instanceof dn))return arguments.length>1?new dn(e,t):new dn(e);if(n=Gr(tn),arguments.length>1){if(r=t,i=un(n,e))throw i}else r=e;if(!Te(r))throw new TypeError(N("invalid argument. Callback argument must be a function. Value: `%s`.",r));return n.writableObjectMode=!0,cn("Creating a transform stream configured with the following options: %s.",JSON.stringify(n)),fn.call(this,n),Kr(this,"_destroyed",!1),Kr(this,"_idx",-1),L(this,"_inspect",r),this}Yr(dn,fn),L(dn.prototype,"_transform",(function(e,t,r){this._idx+=1,cn("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),this._inspect.call(null,e,this._idx),this.push(e),r()})),L(dn.prototype,"_flush",(function(e){cn("Flushing the stream..."),e()})),L(dn.prototype,"destroy",(function(e){var t;return this._destroyed?(cn("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(cn("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));cn("Closing the stream..."),t.emit("close")})),this)})),L(dn,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));r=Gr(e),n=t}else r={},n=e;return r.objectMode=!0,new dn(r,n)})),L(dn,"factory",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return r;function r(e){return new dn(t,e)}}));var pn="debug-stream",hn=ln(pn),gn={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1,name:""};function bn(e,t){return nn(t)?Q(t,"name")&&(e.name=t.name,!Ze(e.name))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","name",e.name)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!X(e.readableObjectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","readableObjectMode",e.readableObjectMode)):Q(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!X(e.allowHalfOpen))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","allowHalfOpen",e.allowHalfOpen)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var yn=ln;function mn(e,t){var r,n,i,o,a;if(!(this instanceof mn))return arguments.length>1?new mn(e,t):1===arguments.length?new mn(e):new mn;if(r=Gr(gn),arguments.length>1){if(!Te(t))throw new TypeError(N("invalid argument. Callback argument must be a function. Value: `%s`.",t));a=t,o=bn(r,e)}else arguments.length&&(Te(e)?a=e:o=bn(r,e));if(o)throw o;return n=r.name?"debug-stream:"+r.name:pn,i=yn(n),hn("Creating a transform stream configured with the following options: %s.",JSON.stringify(r)),dn.call(this,r,s),this;function s(e,t){if(a)return hn("Received a new chunk. Chunk: %s. Index: %d.",e.toString(),t),a(i,e,t);_e(e)&&(e=e.toString()),e=JSON.stringify(e),hn("Received a new chunk. Chunk: %s. Index: %d.",e,t),i("Chunk: %s. Index: %d.",e,t)}}Yr(mn,dn),L(mn,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));if(r=Gr(e),n=t,!Te(t))throw new TypeError(N("invalid argument. Callback argument must be a function. Value: `%s`.",t))}else if(arguments.length)if(Te(e))r={},n=e;else{if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));r=Gr(e)}else r={};return r.objectMode=!0,void 0===n?new mn(r):new mn(r,n)})),L(mn,"factory",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return r;function r(e,r){return t.name=e,arguments.length>1?new mn(t,r):new mn(t)}}));var wn={objectMode:!1,decodeStrings:!0,defaultEncoding:"utf8"};function vn(e,t){return nn(t)?Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):Q(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!X(e.decodeStrings))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","decodeStrings",e.decodeStrings)):Q(t,"defaultEncoding")&&(e.defaultEncoding=t.defaultEncoding,!Ze(e.defaultEncoding))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","defaultEncoding",e.defaultEncoding)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var jn=ln("inspect-stream-sink"),On=e.Writable;function _n(e,t){var r,n,i;if(!(this instanceof _n))return arguments.length>1?new _n(e,t):new _n(e);if(n=Gr(wn),arguments.length>1){if(r=t,i=vn(n,e))throw i}else r=e;if(!Te(r))throw new TypeError(N("invalid argument. Callback argument must be a function. Value: `%s`.",r));return jn("Creating a writable stream configured with the following options: %s.",JSON.stringify(n)),On.call(this,n),Kr(this,"_destroyed",!1),Kr(this,"_idx",-1),L(this,"_inspect",r),this}Yr(_n,On),L(_n.prototype,"_write",(function(e,t,r){if(this._idx+=1,jn("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),this._inspect.call(null,e,this._idx),this._destroyed)return en(r);r()})),L(_n.prototype,"destroy",(function(e){var t;return this._destroyed?(jn("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(jn("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));jn("Closing the stream..."),t.emit("close")})),this)})),L(_n,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));r=Gr(e),n=t}else r={},n=e;return r.objectMode=!0,new _n(r,n)})),L(_n,"factory",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return r;function r(e){return new _n(t,e)}}));var Mn="debug-stream-sink",En=ln(Mn),Tn={objectMode:!1,decodeStrings:!0,defaultEncoding:"utf8",name:""};function Sn(e,t){return nn(t)?Q(t,"name")&&(e.name=t.name,!Ze(e.name))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","name",e.name)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):Q(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!X(e.decodeStrings))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","decodeStrings",e.decodeStrings)):Q(t,"defaultEncoding")&&(e.defaultEncoding=t.defaultEncoding,!Ze(e.defaultEncoding))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","defaultEncoding",e.defaultEncoding)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var kn=ln;function An(e,t){var r,n,i,o,a;if(!(this instanceof An))return arguments.length>1?new An(e,t):1===arguments.length?new An(e):new An;if(r=Gr(Tn),arguments.length>1){if(!Te(t))throw new TypeError(N("invalid argument. Callback argument must be a function. Value: `%s`.",t));a=t,o=Sn(r,e)}else arguments.length&&(Te(e)?a=e:o=Sn(r,e));if(o)throw o;return n=r.name?Mn+":"+r.name:Mn,i=kn(n),En("Creating a writable stream configured with the following options: %s.",JSON.stringify(r)),_n.call(this,r,s),this;function s(e,t){if(a)return En("Received a new chunk. Chunk: %s. Index: %d.",e.toString(),t),a(i,e,t);_e(e)&&(e=e.toString()),e=JSON.stringify(e),En("Received a new chunk. Chunk: %s. Index: %d.",e,t),i("Chunk: %s. Index: %d.",e,t)}}Yr(An,_n),L(An,"objectMode",(function(e,t){var r,n;if(arguments.length>1){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));if(r=Gr(e),n=t,!Te(t))throw new TypeError(N("invalid argument. Callback argument must be a function. Value: `%s`.",t))}else if(arguments.length)if(Te(e))r={},n=e;else{if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));r=Gr(e)}else r={};return r.objectMode=!0,void 0===n?new An(r):new An(r,n)})),L(An,"factory",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return r;function r(e,r){return t.name=e,arguments.length>1?new An(t,r):new An(t)}}));var xn={objectMode:!1};function Vn(e,t){return nn(t)?Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var Wn,In=ln("empty-stream"),Cn=e.Readable;function Nn(e){var t,r;if(!(this instanceof Nn))return arguments.length>0?new Nn(e):new Nn;if(t=Gr(xn),arguments.length>0&&(r=Vn(t,e)))throw r;return In("Creating a readable stream configured with the following options: %s.",JSON.stringify(t)),Cn.call(this,t),Kr(this,"_destroyed",!1),this}Yr(Nn,Cn),L(Nn.prototype,"_read",(function(){this.push(null)})),L(Nn.prototype,"destroy",(function(e){var t;return this._destroyed?(In("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(In("Stream was destroyed due to an error. Error: %s.",De(e)?e.message:JSON.stringify(e)),t.emit("error",e));In("Closing the stream..."),t.emit("close")})),this)})),L(Nn,"objectMode",(function(){return new Nn({objectMode:!0})})),L(Nn,"factory",(function(e){var t;return t=arguments.length>0?Gr(e,1):{},r;function r(){return new Nn(t)}})),Wn=Te(Ut.from)?function(e,t){if(!Ze(e))throw new TypeError(N("invalid argument. First argument must be a string. Value: `%s`.",e));if(arguments.length>1){if(!Ze(t))throw new TypeError(N("invalid argument. Second argument must be a string. Value: `%s`.",t));return Ut.from(e,t)}return Ut.from(e,"utf8")}:function(e,t){if(!Ze(e))throw new TypeError(N("invalid argument. First argument must be a string. Value: `%s`.",e));if(arguments.length>1){if(!Ze(t))throw new TypeError(N("invalid argument. Second argument must be a string. Value: `%s`.",t));return new Ut(e,t)}return new Ut(e,"utf8")};var Fn=Wn,zn={objectMode:!1,encoding:null,sep:"\n",dir:1};function Hn(e,t){return nn(t)?Q(t,"sep")&&(e.sep=t.sep,!Ze(e.sep))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","sep",e.sep)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"encoding")&&(e.encoding=t.encoding,!Ze(e.encoding)&&null!==e.encoding)?new TypeError(N("invalid option. `%s` option must be a string or null. Option: `%s`.","encoding",e.encoding)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):Q(t,"serialize")&&(e.serialize=t.serialize,!Te(e.serialize))?new TypeError(N("invalid option. `%s` option must be a function. Option: `%s`.","serialize",e.serialize)):Q(t,"dir")&&(e.dir=t.dir,1!==e.dir&&-1!==e.dir)?new TypeError(N("invalid option. `%s` option must be either `1` or `-1`. Option: `%s`.","dir",e.dir)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var Jn=ln("from-array-stream"),Rn=e.Readable;function Un(e,t){var r,n;if(!(this instanceof Un))return arguments.length>1?new Un(e,t):new Un(e);if(!at(e))throw new TypeError(N("invalid argument. First argument must be an array-like object. Value: `%s`.",e));if(r=Gr(zn),arguments.length>1&&(n=Hn(r,t)))throw n;return Jn("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),Rn.call(this,r),Kr(this,"_destroyed",!1),L(this,"_objectMode",r.objectMode),L(this,"_sep",r.sep),L(this,"_serialize",r.serialize||JSON.stringify),L(this,"_src",e),L(this,"_stride",r.dir),Kr(this,"_i",0),Kr(this,"_idx",1===r.dir?0:e.length-1),this}Yr(Un,Rn),L(Un.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(t=null,this._i+=1,this._i>this._src.length)return Jn("Finished iteration."),this.push(null);r=this._src[this._idx],Jn("Value: %s. Idx: %d. Iter: %d.",JSON.stringify(r),this._idx,this._i),this._idx+=this._stride,!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?r=1===this._i?Fn(r):Fn(this._sep+r):_e(r)?this._i>1&&(r=Ut.concat([Fn(this._sep),r])):t=new Error(N("invalid operation. Serialization function must return a string or Buffer. Value: `%s`.",r))),t?this.emit("error",t):e=this.push(r)}})),L(Un.prototype,"destroy",(function(e){var t;return this._destroyed?(Jn("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(Jn("Stream was destroyed due to an error. Error: %s.",De(e)?e.message:JSON.stringify(e)),t.emit("error",e));Jn("Closing the stream..."),t.emit("close")})),this)})),L(Un,"objectMode",(function(e,t){var r;if(arguments.length>1){if(!nn(r=t))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",r));r=Gr(t,1)}else r={};return r.objectMode=!0,new Un(e,r)})),L(Un,"factory",(function(e){var t;return t=arguments.length?Gr(e,1):{},r;function r(e){return new Un(e,t)}}));var Pn={objectMode:!1,encoding:null,sep:"\n",iter:1e308,dir:1};function Bn(e,t){return nn(t)?Q(t,"sep")&&(e.sep=t.sep,!Ze(e.sep))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","sep",e.sep)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"encoding")&&(e.encoding=t.encoding,!Ze(e.encoding)&&null!==e.encoding)?new TypeError(N("invalid option. `%s` option must be a string or null. Option: `%s`.","encoding",e.encoding)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):Q(t,"serialize")&&(e.serialize=t.serialize,!Te(e.serialize))?new TypeError(N("invalid option. `%s` option must be a function. Option: `%s`.","serialize",e.serialize)):Q(t,"iter")&&(e.iter=t.iter,!Ue(e.iter))?new TypeError(N("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","iter",e.iter)):Q(t,"dir")&&(e.dir=t.dir,1!==e.dir&&-1!==e.dir)?new TypeError(N("invalid option. `%s` option must be either `1` or `-1`. Option: `%s`.","dir",e.dir)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var $n=ln("from-circular-array-stream"),Ln=e.Readable;function Gn(e,t){var r,n;if(!(this instanceof Gn))return arguments.length>1?new Gn(e,t):new Gn(e);if(!at(e))throw new TypeError(N("invalid argument. First argument must be an array-like object. Value: `%s`.",e));if(r=Gr(Pn),arguments.length>1&&(n=Bn(r,t)))throw n;return $n("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),Ln.call(this,r),Kr(this,"_destroyed",!1),L(this,"_objectMode",r.objectMode),L(this,"_sep",r.sep),L(this,"_serialize",r.serialize||JSON.stringify),L(this,"_src",e),L(this,"_stride",r.dir),L(this,"_iter",r.iter),Kr(this,"_i",0),Kr(this,"_idx",1===r.dir?-1:e.length),this}Yr(Gn,Ln),L(Gn.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(t=null,this._i+=1,this._i>this._iter||0===this._src.length)return $n("Finished iteration."),this.push(null);this._idx+=this._stride,this._stride>0&&this._idx>=this._src.length?this._idx%=this._src.length:this._stride<0&&this._idx<0&&(this._idx+=this._src.length),r=this._src[this._idx],$n("Value: %s. Idx: %d. Iter: %d.",JSON.stringify(r),this._idx,this._i),!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?r=1===this._i?Fn(r):Fn(this._sep+r):_e(r)?this._i>1&&(r=Ut.concat([Fn(this._sep),r])):t=new Error(N("invalid operation. Serialization function must return a string or Buffer. Value: `%s`.",r))),t?this.emit("error",t):e=this.push(r)}})),L(Gn.prototype,"destroy",(function(e){var t;return this._destroyed?($n("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&($n("Stream was destroyed due to an error. Error: %s.",De(e)?e.message:JSON.stringify(e)),t.emit("error",e));$n("Closing the stream..."),t.emit("close")})),this)})),L(Gn,"objectMode",(function(e,t){var r;if(arguments.length>1){if(!nn(r=t))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",r));r=Gr(t,1)}else r={};return r.objectMode=!0,new Gn(e,r)})),L(Gn,"factory",(function(e){var t;return t=arguments.length?Gr(e,1):{},r;function r(e){return new Gn(e,t)}}));var qn=Object.prototype.toString;var Xn=new Function("try {return this === global;} catch ( err ) {return false;}")(),Dn=r,Zn=pe(),Yn=/node|io\.js/;var Kn,Qn,ei="object"==typeof global&&global===Zn&&Zn===Zn.global&&("[object global]"===re(Zn)||"[object Object]"===re(Zn))&&!0===Xn&&"object"==typeof Dn&&"[object process]"===(Kn=Dn,qn.call(Kn))&&nn(Dn.versions)&&Ze(Dn.versions.node)&&(void 0===Dn.release||nn(Dn.release)&&Ze(Dn.release.name)&&Yn.test(Dn.release.name)),ti=r.versions.node,ri=(Qn=ei?ti:null,Qn?parseInt(Qn.split(".")[0],10):-1),ni=Te(Ut.from)&&ri>=5,ii="function"==typeof ArrayBuffer;function oi(e){return ii&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===re(e)}var ai,si=Te(Ut.from)?function(e){if(!at(e))throw new TypeError(N("invalid argument. Must provide an array-like object. Value: `%s`.",e));return Ut.from(e)}:function(e){if(!at(e))throw new TypeError(N("invalid argument. Must provide an array-like object. Value: `%s`.",e));return new Ut(e)};ai=ni?function(e,t,r){var n,i;if(!oi(e))throw new TypeError(N("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",e));if(arguments.length>1){if(!Ue(t))throw new TypeError(N("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",t));if(t>e.byteLength)throw new RangeError(N("invalid argument. Second argument must not exceed the number of bytes in the input ArrayBuffer. Value: `%s`.",t));if(n=t,arguments.length>2){if(!Ue(r))throw new TypeError(N("invalid argument. Last argument must be a nonnegative integer. Value: `%s`.",r));if(r>e.byteLength)throw new RangeError(N("invalid argument. Last argument must not exceed the number of bytes in the input ArrayBuffer. Value: `%s`.",r));i=r}else i=e.byteLength-n}else n=0,i=e.byteLength;return 0===i&&ri<6?Ut.from([]):Ut.from(e,n,i)}:function(e,t,r){var n;if(!oi(e))throw new TypeError(N("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",e));if(arguments.length>1){if(!Ue(t))throw new TypeError(N("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",t));if(t>e.byteLength)throw new RangeError(N("invalid argument. Second argument must not exceed the number of bytes in the input ArrayBuffer. Value: `%s`.",t));if(arguments.length>2){if(!Ue(r))throw new TypeError(N("invalid argument. Last argument must be a nonnegative integer. Value: `%s`.",r));if(r>e.byteLength)throw new RangeError(N("invalid argument. Last argument must not exceed the number of bytes in the input ArrayBuffer. Value: `%s`.",r));n=r}else n=e.byteLength-t;return si(new Qt(e,t,n))}return ri<3?si(new Qt(e)):0===e.byteLength?new Ut([]):new Ut(e)};var ui=ai,li={objectMode:!1,encoding:null,sep:"\n",iter:1e308};function ci(e,t){return nn(t)?Q(t,"sep")&&(e.sep=t.sep,!Ze(e.sep))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","sep",e.sep)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"encoding")&&(e.encoding=t.encoding,!Ze(e.encoding)&&null!==e.encoding)?new TypeError(N("invalid option. `%s` option must be a string or null. Option: `%s`.","encoding",e.encoding)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):Q(t,"iter")&&(e.iter=t.iter,!Ue(e.iter))?new TypeError(N("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","iter",e.iter)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var fi=ln("from-constant-stream"),di=e.Readable;function pi(e,t){var r,n;if(!(this instanceof pi))return arguments.length>1?new pi(e,t):new pi(e);if(r=Gr(li),arguments.length>1&&(n=ci(r,t)))throw n;if(!1===r.objectMode)if(Ze(e))e=Fn(e);else if(_e(e));else{if(!Dt(e))throw new TypeError(N("invalid argument. In binary mode, a provided value must be a string, Buffer, or Uint8Array. Value: `%s`.",e));e=ui(e.buffer,e.byteOffset,e.length)}return fi("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),di.call(this,r),Kr(this,"_destroyed",!1),L(this,"_objectMode",r.objectMode),L(this,"_sep",Fn(r.sep)),L(this,"_iter",r.iter),L(this,"_value",e),Kr(this,"_i",0),this}function hi(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)&&Te(e.next)}Yr(pi,di),L(pi.prototype,"_read",(function(){var e;if(!this._destroyed)for(e=!0;e;){if(this._i+=1,this._i>this._iter)return fi("Finished iteration."),this.push(null);fi("Value: %s. Iter: %d.",this._value,this._i),e=!1===this._objectMode&&this._i>1?this.push(Ut.concat([this._sep,this._value])):this.push(this._value)}})),L(pi.prototype,"destroy",(function(e){var t;return this._destroyed?(fi("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(fi("Stream was destroyed due to an error. Error: %s.",De(e)?e.message:JSON.stringify(e)),t.emit("error",e));fi("Closing the stream..."),t.emit("close")})),this)})),L(pi,"objectMode",(function(e,t){var r;if(arguments.length>1){if(!nn(r=t))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",r));r=Gr(t,1)}else r={};return r.objectMode=!0,new pi(e,r)})),L(pi,"factory",(function(e,t){var r,n,i;return 0===(r=arguments.length)?(n={},i=!0):1===r?null!==e&&"object"==typeof e&&(Q(e,"sep")||Q(e,"iter")||Q(e,"objectMode")||Q(e,"encoding")||Q(e,"highWaterMark"))?(n=Gr(e,1),i=!0):n={}:n=Gr(t,1),i?o:a;function o(e){return new pi(e,n)}function a(){return new pi(e,n)}}));var gi={objectMode:!1,encoding:null,sep:"\n"};function bi(e,t){return nn(t)?Q(t,"sep")&&(e.sep=t.sep,!Ze(e.sep))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","sep",e.sep)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"encoding")&&(e.encoding=t.encoding,!Ze(e.encoding)&&null!==e.encoding)?new TypeError(N("invalid option. `%s` option must be a string or null. Option: `%s`.","encoding",e.encoding)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):Q(t,"serialize")&&(e.serialize=t.serialize,!Te(e.serialize))?new TypeError(N("invalid option. `%s` option must be a function. Option: `%s`.","serialize",e.serialize)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var yi=ln("from-iterator-stream"),mi=e.Readable;function wi(e,t){var r,n;if(!(this instanceof wi))return arguments.length>1?new wi(e,t):new wi(e);if(!hi(e))throw new TypeError(N("invalid argument. First argument must be an iterator. Value: `%s`.",e));if(r=Gr(gi),arguments.length>1&&(n=bi(r,t)))throw n;return yi("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),mi.call(this,r),Kr(this,"_destroyed",!1),L(this,"_objectMode",r.objectMode),L(this,"_sep",r.sep),L(this,"_serialize",r.serialize||JSON.stringify),L(this,"_iterator",e),Kr(this,"_i",0),this}Yr(wi,mi),L(wi.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(r=this._iterator.next(),this._i+=1,r.done)return Q(r,"value")&&(r=r.value,yi("Value: %s. Iter: %d.",JSON.stringify(r),this._i),!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?(r=1===this._i?Fn(r):Fn(this._sep+r),this.push(r)):_e(r)?(this._i>1&&(r=Ut.concat([Fn(this._sep),r])),this.push(r)):(t=new Error(N("invalid operation. Serialization function must return a string or Buffer. Value: `%s`.",r)),this.emit("error",t)))),yi("Finished iteration."),this.push(null);if(r=r.value,yi("Value: %s. Iter: %d.",JSON.stringify(r),this._i),!1===this._objectMode)if("string"==typeof(r=this._serialize(r)))r=1===this._i?Fn(r):Fn(this._sep+r);else{if(!_e(r)){t=new Error(N("invalid operation. Serialization function must return a string or Buffer. Value: `%s`.",r)),this.emit("error",t);continue}this._i>1&&(r=Ut.concat([Fn(this._sep),r]))}e=this.push(r)}})),L(wi.prototype,"destroy",(function(e){var t;return this._destroyed?(yi("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(yi("Stream was destroyed due to an error. Error: %s.",De(e)?e.message:JSON.stringify(e)),t.emit("error",e));yi("Closing the stream..."),t.emit("close")})),this)})),L(wi,"objectMode",(function(e,t){var r;if(arguments.length>1){if(!nn(r=t))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",r));r=Gr(t,1)}else r={};return r.objectMode=!0,new wi(e,r)})),L(wi,"factory",(function(e){var t;return t=arguments.length?Gr(e,1):{},r;function r(e){return new wi(e,t)}}));var vi={objectMode:!1,encoding:null,sep:"\n"};function ji(e,t){return nn(t)?Q(t,"sep")&&(e.sep=t.sep,!Ze(e.sep))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","sep",e.sep)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"encoding")&&(e.encoding=t.encoding,!Ze(e.encoding)&&null!==e.encoding)?new TypeError(N("invalid option. `%s` option must be a string or null. Option: `%s`.","encoding",e.encoding)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):Q(t,"serialize")&&(e.serialize=t.serialize,!Te(e.serialize))?new TypeError(N("invalid option. `%s` option must be a function. Option: `%s`.","serialize",e.serialize)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var Oi=ln("from-strided-array-stream"),_i=e.Readable;function Mi(e,t,r,n,i){var o,a,s;if(!(this instanceof Mi))return arguments.length>4?new Mi(e,t,r,n,i):new Mi(e,t,r,n);if(!Ue(e))throw new TypeError(N("invalid argument. First argument must be a nonnegative integer. Value: `%s`.",e));if(!at(t))throw new TypeError(N("invalid argument. Second argument must be an array-like object. Value: `%s`.",t));if(!He(r))throw new TypeError(N("invalid argument. Third argument must be an integer. Value: `%s`.",r));if(!Ue(n))throw new TypeError(N("invalid argument. Fourth argument must be a nonnegative integer. Value: `%s`.",n));if(e>0&&(s=n+(e-1)*r,n>=t.length||s<0||s>=t.length))throw new RangeError("invalid arguments. Strided array parameters are incompatible with the provided array-like object. Linear index exceeds array bounds.");if(o=Gr(vi),arguments.length>4&&(a=ji(o,i)))throw a;return Oi("Creating a readable stream configured with the following options: %s.",JSON.stringify(o)),_i.call(this,o),Kr(this,"_destroyed",!1),L(this,"_objectMode",o.objectMode),L(this,"_sep",o.sep),L(this,"_serialize",o.serialize||JSON.stringify),L(this,"_buffer",t),L(this,"_N",e),L(this,"_stride",r),L(this,"_offset",n),Kr(this,"_idx",n),Kr(this,"_i",0),this}Yr(Mi,_i),L(Mi.prototype,"_read",(function(){var e,t,r;if(!this._destroyed)for(e=!0;e;){if(t=null,this._i+=1,this._i>this._N)return Oi("Finished iteration."),this.push(null);r=this._buffer[this._idx],Oi("Value: %s. Idx: %d. Iter: %d.",JSON.stringify(r),this._idx,this._i),this._idx+=this._stride,!1===this._objectMode&&("string"==typeof(r=this._serialize(r))?r=1===this._i?Fn(r):Fn(this._sep+r):_e(r)?this._i>1&&(r=Ut.concat([Fn(this._sep),r])):t=new Error(N("invalid operation. Serialization function must return a string or Buffer. Value: `%s`.",r))),t?this.emit("error",t):e=this.push(r)}})),L(Mi.prototype,"destroy",(function(e){var t;return this._destroyed?(Oi("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(Oi("Stream was destroyed due to an error. Error: %s.",De(e)?e.message:JSON.stringify(e)),t.emit("error",e));Oi("Closing the stream..."),t.emit("close")})),this)})),L(Mi,"objectMode",(function(e,t,r,n,i){var o;if(arguments.length>4){if(!nn(o=i))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",o));o=Gr(i,1)}else o={};return o.objectMode=!0,new Mi(e,t,r,n,o)})),L(Mi,"factory",(function(e){var t;return t=arguments.length?Gr(e,1):{},r;function r(e,r,n,i){return new Mi(e,r,n,i,t)}}));var Ei={objectMode:!1,encoding:null,allowHalfOpen:!1,readableObjectMode:!1,sep:"\n"};function Ti(e,t){return nn(t)?Q(t,"sep")&&(e.sep=t.sep,!Ze(e.sep))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","sep",e.sep)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!X(e.readableObjectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","readableObjectMode",e.readableObjectMode)):Q(t,"encoding")&&(e.encoding=t.encoding,!Ze(e.encoding))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","encoding",e.encoding)):Q(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!X(e.allowHalfOpen))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","allowHalfOpen",e.allowHalfOpen)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var Si=ln("join-stream"),ki=e.Transform;function Ai(e){var t,r;if(!(this instanceof Ai))return arguments.length?new Ai(e):new Ai;if(t=Gr(Ei),arguments.length&&(r=Ti(t,e)))throw r;return t.writableObjectMode=!0,t.decodeStrings=!1,Si("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),ki.call(this,t),Kr(this,"_destroyed",!1),L(this,"_encoding",null===t.encoding?"utf8":t.encoding),"utf8"!==this._encoding&&(t.sep=Fn(t.sep,this._encoding)),L(this,"_sep",t.sep),Kr(this,"_init",!1),Kr(this,"_idx",-1),this}Yr(Ai,ki),L(Ai.prototype,"_transform",(function(e,t,r){var n;this._idx+=1,Si("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),"utf8"===this._encoding?this._init?e=this._sep+e:this._init=!0:this._init?(e=new Ut(e,t),n=this._sep.length+e.length,e=(e=Ut.concat([this._sep,e],n)).toString(this._encoding)):this._init=!0,this.push(e,this._encoding),r()})),L(Ai.prototype,"_flush",(function(e){Si("Flushing the stream..."),e()})),L(Ai.prototype,"destroy",(function(e){var t;return this._destroyed?(Si("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(Si("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));Si("Closing the stream..."),t.emit("close")})),this)})),L(Ai,"objectMode",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return t.objectMode=!0,new Ai(t)})),L(Ai,"factory",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return r;function r(){return new Ai(t)}}));var xi={objectMode:!1,encoding:null,allowHalfOpen:!1,writableObjectMode:!1,sep:null},Vi=RegExp.prototype.exec;var Wi=Z();function Ii(e){return"object"==typeof e&&(e instanceof RegExp||(Wi?function(e){try{return Vi.call(e),!0}catch(e){return!1}}(e):"[object RegExp]"===re(e)))}function Ci(e,t){return nn(t)?!Q(t,"sep")||(e.sep=t.sep,Ze(e.sep)||Ii(e.sep))?Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"writableObjectMode")&&(e.writableObjectMode=t.writableObjectMode,!X(e.writableObjectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","writableObjectMode",e.writableObjectMode)):Q(t,"encoding")&&(e.encoding=t.encoding,!Ze(e.encoding))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","encoding",e.encoding)):Q(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!X(e.allowHalfOpen))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","allowHalfOpen",e.allowHalfOpen)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):null:new TypeError(N("invalid option. `%s` option must be either a string or a regular expression. Option: `%s`.","sep",e.sep)):new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var Ni=ln("split-stream");function Fi(e,t){return"utf8"===t||"buffer"===t?e:(e=Fn(e),t?e.toString(t):e.toString())}var zi=e.Transform,Hi=/\r?\n/;function Ji(e){var t,r;if(!(this instanceof Ji))return arguments.length?new Ji(e):new Ji;if(t=Gr(xi),arguments.length&&(r=Ci(t,e)))throw r;return t.readableObjectMode=!0,t.decodeStrings=!1,Ni("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),zi.call(this,t),L(this,"_sep",null===t.sep?Hi:t.sep),Kr(this,"_destroyed",!1),L(this,"_encoding",t.encoding),Kr(this,"_buffer",""),Kr(this,"_idx",-1),this}Yr(Ji,zi),L(Ji.prototype,"_transform",(function(e,t,r){var n,i,o,a;if(this._idx+=1,Ni("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),t,this._idx),"buffer"===t?e=e.toString():"utf8"!==t&&(e=(e=new Ut(e,t)).toString("utf8")),n=e.split(this._sep),Ni("Splits: %s. Index: %d.",JSON.stringify(n),this._idx),o=n.length-1,Ni("%s splits. Index: %d.",o,this._idx),0===o)Ni("No splits. Index: %d.",this._idx),this._buffer+=n[o];else{for(Ni("Processing splits. Index: %d.",this._index),i=Fi(i=this._buffer+n[0],t),Ni("Split %d: %s. Index: %d.",0,i.toString(),this._idx),this.push(i,t),a=1;a<o;a++)i=Fi(n[a],t),Ni("Split %d: %s. Index: %d.",a,i.toString(),this._idx),this.push(i,t);Ni("Remaining split: %s.",n[o].toString()),this._buffer=n[o]}r()})),L(Ji.prototype,"_flush",(function(e){var t=this._buffer;t&&(Ni("Processing final split..."),t=Fi(t,this._encoding),this.push(t,this._encoding)),Ni("Flushing the stream..."),e()})),L(Ji.prototype,"destroy",(function(e){var t;return this._destroyed?(Ni("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(Ni("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));Ni("Closing the stream..."),t.emit("close")})),this)})),L(Ji,"objectMode",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return t.objectMode=!0,new Ji(t)})),L(Ji,"factory",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return r;function r(){return new Ji(t)}}));var Ri=r.stderr,Ui=r.stdin,Pi=r.stdout,Bi={objectMode:!1,encoding:null,allowHalfOpen:!1,decodeStrings:!0};function $i(e,t){return nn(t)?Q(t,"transform")&&(e.transform=t.transform,!Te(e.transform))?new TypeError(N("invalid option. `%s` option must be a function. Option: `%s`.","transform",e.transform)):Q(t,"flush")&&(e.flush=t.flush,!Te(e.flush))?new TypeError(N("invalid option. `%s` option must be a function. Option: `%s`.","flush",e.flush)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"encoding")&&(e.encoding=t.encoding,!Ze(e.encoding))?new TypeError(N("invalid option. `%s` option must be a string. Option: `%s`.","encoding",e.encoding)):Q(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!X(e.allowHalfOpen))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","allowHalfOpen",e.allowHalfOpen)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!on(e.highWaterMark))?new TypeError(N("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):Q(t,"decodeStrings")&&(e.decodeStrings=t.decodeStrings,!X(e.decodeStrings))?new TypeError(N("invalid option. `%s` option must be a boolean. Option: `%s`.","decodeStrings",e.decodeStrings)):null:new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",t))}var Li=ln("transform-stream:destroy");function Gi(e){var t;return this._destroyed?(Li("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,en((function(){e&&(Li("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),t.emit("error",e));Li("Closing the stream..."),t.emit("close")})),this)}var qi=ln("transform-stream:transform");function Xi(e,t,r){qi("Received a new chunk. Chunk: %s. Encoding: %s.",e.toString(),t),r(null,e)}var Di=ln,Zi=e.Transform,Yi=Di("transform-stream:main");function Ki(e){var t,r;if(!(this instanceof Ki))return arguments.length?new Ki(e):new Ki;if(t=Gr(Bi),arguments.length&&(r=$i(t,e)))throw r;return Yi("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),Zi.call(this,t),this._destroyed=!1,t.transform?this._transform=t.transform:this._transform=Xi,t.flush&&(this._flush=t.flush),this}Yr(Ki,Zi),Ki.prototype.destroy=Gi;var Qi=ln,eo=e.Transform,to=Qi("transform-stream:ctor");L(Ki,"objectMode",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return t.objectMode=!0,new Ki(t)})),L(Ki,"factory",(function(e){var t;if(arguments.length){if(!nn(e))throw new TypeError(N("invalid argument. Options argument must be an object. Value: `%s`.",e));t=Gr(e)}else t={};return r;function r(e,r){return t.transform=e,arguments.length>1?t.flush=r:delete t.flush,new Ki(t)}})),L(Ki,"ctor",(function(e){var t,r,n;if(r=Gr(Bi),arguments.length&&(n=$i(r,e)))throw n;function i(e){var t,n;if(!(this instanceof i))return arguments.length?new i(e):new i;if(t=Gr(r),arguments.length&&(n=$i(t,e)))throw n;return to("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),eo.call(this,t),this._destroyed=!1,this}return t=r.transform?r.transform:Xi,Yr(i,eo),i.prototype._transform=t,r.flush&&(i.prototype._flush=r.flush),i.prototype.destroy=Gi,i}));var ro={};$(ro,"debugStream",mn),$(ro,"debugSinkStream",An),$(ro,"emptyStream",Nn),$(ro,"arrayStream",Un),$(ro,"circularArrayStream",Gn),$(ro,"constantStream",pi),$(ro,"iteratorStream",wi),$(ro,"stridedArrayStream",Mi),$(ro,"inspectStream",dn),$(ro,"inspectSinkStream",_n),$(ro,"joinStream",Ai),$(ro,"splitStream",Ji),$(ro,"stderr",Ri),$(ro,"stdin",Ui),$(ro,"stdout",Pi),$(ro,"transformStream",Ki);var no={};return $(no,"node",ro),no}));
//# sourceMappingURL=index.js.map
